fields: ["VALOR ARBITRADO - DE", "DATA DA AUTORIZACAO DA DESPESA", "ADIANTAMENTO"]
priority: 1.25
sources:
  - bucket: principal
    name_matches: ["*Despacho*.pdf", "*Despacho*.html", "*Decisao*", "*Decisão*"]
patterns:
  - type: regex
    label: despacho_de
    pattern: 'autorizo\s+o\s+pagamento[^\n]{0,120}?R\$\s*([0-9]{1,3}(?:\.[0-9]{3})*,\d{2})'
    field: "VALOR ARBITRADO - DE"
    weight: 1.35
  - type: regex
    label: reserva_orcamentaria
    pattern: 'reserva\s+orçament[aá]ria[^\n]{0,120}?R\$\s*([0-9]{1,3}(?:\.[0-9]{3})*,\d{2})'
    field: "VALOR ARBITRADO - DE"
    weight: 1.2
  - type: regex
    label: reserva_respectiva
    pattern: 'reserva[\s\S]{0,120}?no\s+valor\s+de\s*R\$\s*([0-9]{1,3}(?:\.[0-9]{3})*,\d{2})'
    field: "VALOR ARBITRADO - DE"
    weight: 1.2
  - type: regex
    label: despacho_de_valor
    pattern: 'valor\s+arbitrado[^\n]{0,80}?R\$\s*([0-9]{1,3}(?:\.[0-9]{3})*,\d{2})'
    field: "VALOR ARBITRADO - DE"
    weight: 1.2
  - type: regex
    label: data_despacho_extenso
    pattern: 'jo[aã]o\s+pessoa[,\s]+(\d{1,2}\s+de\s+[a-zçã]+\s+de\s+\d{4})'
    field: "DATA DA AUTORIZACAO DA DESPESA"
    weight: 1.1
  - type: regex
    label: data_despesa
    pattern: '(\d{1,2}/\d{1,2}/\d{2,4})'
    field: "DATA DA AUTORIZACAO DA DESPESA"
    weight: 1.0
  - type: regex
    label: adiantamento
    pattern: 'adiantamento[^\n]{0,60}?R\$\s*([0-9]{1,3}(?:\.[0-9]{3})*,\d{2})'
    field: "ADIANTAMENTO"
    weight: 0.8
clean: [clean_money]
validate: [validate_money]
